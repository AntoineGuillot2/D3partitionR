/*! d3-bootstrap-plugins - v0.0.1 - 2012-07-07
* https://github.com/zmaril/d3-bootstrap-plugins
* Copyright (c) 2012 Zack Maril; Licensed MIT */
(function(){var a;a=function(a,b){var c,d;return c=d3.select(this),d=function(b){var c,d;return c=[0,0],a.placement==="mouse"?c=d3.mouse(body.node()):(d=this.ownerSVGElement.getBoundingClientRect(),c[0]=d.left,c[1]=d.top,c[0]+=a.position[0],c[1]+=a.position[1],c[0]+=window.scrollX,c[1]+=window.scrollY),c[0]+=a.displacement[0],c[1]+=a.displacement[1],b.style("left",""+c[0]+"px").style("top",""+c[1]+"px").style("display","block")},c.on("mouseover",function(){var c,e;return e=b(),e.classed("annotation",!0).classed(a.gravity,!0).classed("fade",!0).style("display","none"),e.append("div").attr("class","arrow"),c=function(){return e.classed("in",!0)},setTimeout(c,10),e.style("display","").call(d.bind(this))}),a.mousemove&&c.on("mousemove",function(){return d3.select(".annotation").call(d.bind(this))}),c.on("mouseout",function(){var a,b;return b=d3.selectAll(".annotation").classed("in",!1),a=function(){return b.remove()},setTimeout(a,150)})},d3.selection.prototype.popover=function(b){var c;return c=d3.select("body"),this.each(function(d,e){var g,h;return h=b.apply(this,arguments),g=function(){var a,b;return b=c.append("div").classed("popover",!0),a=b.append("div").attr("class","popover-inner"),a.append("h3").text(h.title).attr("class","popover-title"),a.append("div").attr("class","popover-content").append("p").html(h.content[0][0].outerHTML),b},a.call(this,h,g)})},d3.selection.prototype.tooltip=function(b){var c;return c=d3.select("body"),this.each(function(d,e){var g,h;return h=b.apply(this,arguments),g=function(){var a;return a=c.append("div").classed("tooltip",!0),a.append("div").html(h.text).attr("class","tooltip-inner"),a},a.call(this,h,g)})}})();